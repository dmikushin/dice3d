/*
 JavaScript version by Magicant: Copyright (C) 2005 Magicant
 Original C version by Makoto Matsumoto and Takuji Nishimura
 http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/mt.html
 Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,
 All rights reserved.
*/
function MersenneTwister(b){arguments.length==0&&(b=(new Date).getTime());this._mt=Array(624);this.setSeed(b)}MersenneTwister._mulUint32=function(b,a){var c=b&65535,d=a&65535;return((b>>>16)*d+c*(a>>>16)<<16)+c*d>>>0};MersenneTwister._toNumber=function(b){return typeof b=="number"&&!isNaN(b)?Math.ceil(b):0};
MersenneTwister.prototype.setSeed=function(b){var a=this._mt;if(typeof b=="number"){a[0]=b>>>0;for(var c=1;c<a.length;c++){var d=a[c-1]^a[c-1]>>>30;a[c]=MersenneTwister._mulUint32(1812433253,d)+c}this._index=a.length}else if(b instanceof Array){var c=1,f=0;this.setSeed(19650218);for(var e=Math.max(a.length,b.length);e>0;e--)d=a[c-1]^a[c-1]>>>30,d=MersenneTwister._mulUint32(d,1664525),a[c]=(a[c]^d)+(b[f]>>>0)+f,++c>=a.length&&(a[0]=a[a.length-1],c=1),++f>=b.length&&(f=0);for(e=a.length-1;e>0;e--)d=
a[c-1]^a[c-1]>>>30,d=MersenneTwister._mulUint32(d,1566083941),a[c]=(a[c]^d)-c,++c>=a.length&&(a[0]=a[a.length-1],c=1);a[0]=2147483648}else throw new TypeError("MersenneTwister: illegal seed.");};
MersenneTwister.prototype._nextInt=function(){var b=this._mt,a;if(this._index>=b.length){var c=0,d=b.length;do a=b[c]&2147483648|b[c+1]&2147483647,b[c]=b[c+397]^a>>>1^(a&1?2567483615:0);while(++c<d-397);do a=b[c]&2147483648|b[c+1]&2147483647,b[c]=b[c+397-d]^a>>>1^(a&1?2567483615:0);while(++c<d-1);a=b[d-1]&2147483648|b[0]&2147483647;b[d-1]=b[396]^a>>>1^(a&1?2567483615:0);this._index=0}a=b[this._index++];a^=a>>>11;a^=a<<7&2636928640;a^=a<<15&4022730752;a^=a>>>18;return a>>>0};
MersenneTwister.prototype.nextInt=function(){var b,a;switch(arguments.length){case 0:return this._nextInt();case 1:b=0;a=MersenneTwister._toNumber(arguments[0]);break;default:b=MersenneTwister._toNumber(arguments[0]),a=MersenneTwister._toNumber(arguments[1])-b}if(!(0<a&&a<4294967296))return this._nextInt()+b;if((a&~a+1)==a)return(a-1&this._nextInt())+b;var c;do c=this._nextInt();while(a>4294967296-(c-(c%=a)));return c+b};
MersenneTwister.prototype.next=function(){var b=this._nextInt()>>>5,a=this._nextInt()>>>6;return(b*67108864+a)/9007199254740992};
